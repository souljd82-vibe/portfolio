<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í¬íŠ¸í´ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-card {
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            position: relative;
            transition: all 0.3s ease;
        }
        .test-card:hover {
            border-color: #6366f1;
            box-shadow: 0 4px 15px rgba(99,102,241,0.2);
        }
        .action-buttons {
            position: absolute;
            top: 10px;
            right: 10px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .test-card:hover .action-buttons {
            opacity: 1;
        }
        .action-btn {
            padding: 8px 12px;
            margin: 0 5px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            color: white;
            font-weight: bold;
        }
        .edit-btn { background: #6366f1; }
        .edit-btn:hover { background: #4f46e5; }
        .delete-btn { background: #ef4444; }
        .delete-btn:hover { background: #dc2626; }

        .debug-info {
            background: #f0f0f0;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            font-family: monospace;
            font-size: 12px;
        }
        .status {
            color: #059669;
            font-weight: bold;
        }
        .error {
            color: #dc2626;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ§ª í¬íŠ¸í´ë¦¬ì˜¤ ë²„íŠ¼ í…ŒìŠ¤íŠ¸</h1>

        <div class="debug-info">
            <div><strong>í…ŒìŠ¤íŠ¸ ìƒíƒœ:</strong> <span id="testStatus" class="status">ì¤€ë¹„ì¤‘...</span></div>
            <div><strong>portfolioManager ì¡´ì¬:</strong> <span id="managerStatus">í™•ì¸ì¤‘...</span></div>
            <div><strong>ë§ˆì§€ë§‰ ë¡œê·¸:</strong> <span id="lastLog">ì—†ìŒ</span></div>
        </div>

        <div class="test-card" id="testCard">
            <h3>í…ŒìŠ¤íŠ¸ í”„ë¡œì íŠ¸</h3>
            <p>ì´ ì¹´ë“œì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë ¤ë³´ì„¸ìš”. í¸ì§‘/ì‚­ì œ ë²„íŠ¼ì´ ë‚˜íƒ€ë‚˜ì•¼ í•©ë‹ˆë‹¤.</p>
            <div class="action-buttons">
                <button class="action-btn edit-btn" onclick="testEdit('test-123')">í¸ì§‘</button>
                <button class="action-btn delete-btn" onclick="testDelete('test-123')">ì‚­ì œ</button>
            </div>
        </div>

        <div class="test-card">
            <h3>ì‹¤ì œ í¬íŠ¸í´ë¦¬ì˜¤ í•¨ìˆ˜ í…ŒìŠ¤íŠ¸</h3>
            <p>ì•„ë˜ ë²„íŠ¼ë“¤ë¡œ ì‹¤ì œ í•¨ìˆ˜ë¥¼ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.</p>
            <button class="action-btn edit-btn" onclick="testPortfolioEdit()">í¬íŠ¸í´ë¦¬ì˜¤ í¸ì§‘ í…ŒìŠ¤íŠ¸</button>
            <button class="action-btn delete-btn" onclick="testPortfolioDelete()">í¬íŠ¸í´ë¦¬ì˜¤ ì‚­ì œ í…ŒìŠ¤íŠ¸</button>
        </div>

        <div style="margin-top: 30px;">
            <h3>ğŸš€ ì‹¤ì œ í¬íŠ¸í´ë¦¬ì˜¤ ì—´ê¸°</h3>
            <button style="padding: 15px 30px; background: #059669; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px;" onclick="openPortfolio()">
                í¬íŠ¸í´ë¦¬ì˜¤ ì‚¬ì´íŠ¸ ì—´ê¸°
            </button>
        </div>

        <div class="debug-info" id="debugLog">
            <strong>ë””ë²„ê·¸ ë¡œê·¸:</strong><br>
            <div id="logContent">ë¡œê·¸ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤...</div>
        </div>
    </div>

    <script>
        // ë””ë²„ê·¸ ë¡œê·¸ í•¨ìˆ˜
        function addLog(message, type = 'info') {
            const logContent = document.getElementById('logContent');
            const timestamp = new Date().toLocaleTimeString();
            const color = type === 'error' ? '#dc2626' : type === 'success' ? '#059669' : '#374151';
            logContent.innerHTML += `<div style="color: ${color}; margin: 2px 0;">[${timestamp}] ${message}</div>`;
            logContent.scrollTop = logContent.scrollHeight;
            document.getElementById('lastLog').textContent = message;
        }

        // í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ë“¤
        function testEdit(id) {
            addLog(`í¸ì§‘ ë²„íŠ¼ í´ë¦­ë¨! ID: ${id}`, 'success');
            alert(`í¸ì§‘ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ì„±ê³µ!\nID: ${id}`);
        }

        function testDelete(id) {
            addLog(`ì‚­ì œ ë²„íŠ¼ í´ë¦­ë¨! ID: ${id}`, 'success');
            if(confirm(`ì‚­ì œ í…ŒìŠ¤íŠ¸: ID ${id}ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                alert('ì‚­ì œ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ì„±ê³µ!');
            }
        }

        function testPortfolioEdit() {
            addLog('í¬íŠ¸í´ë¦¬ì˜¤ í¸ì§‘ í•¨ìˆ˜ í…ŒìŠ¤íŠ¸ ì¤‘...', 'info');

            if (typeof window.portfolioManager !== 'undefined') {
                addLog('portfolioManager ë°œê²¬!', 'success');
                if (window.portfolioManager.projects && window.portfolioManager.projects.length > 0) {
                    const firstProject = window.portfolioManager.projects[0];
                    addLog(`ì²« ë²ˆì§¸ í”„ë¡œì íŠ¸ë¡œ í¸ì§‘ í…ŒìŠ¤íŠ¸: ${firstProject.title}`, 'info');
                    try {
                        window.portfolioManager.editProject(firstProject.id);
                        addLog('í¸ì§‘ í•¨ìˆ˜ í˜¸ì¶œ ì„±ê³µ!', 'success');
                    } catch (error) {
                        addLog(`í¸ì§‘ í•¨ìˆ˜ ì—ëŸ¬: ${error.message}`, 'error');
                    }
                } else {
                    addLog('í”„ë¡œì íŠ¸ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤', 'error');
                }
            } else {
                addLog('portfolioManagerë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤', 'error');
            }
        }

        function testPortfolioDelete() {
            addLog('í¬íŠ¸í´ë¦¬ì˜¤ ì‚­ì œ í•¨ìˆ˜ í…ŒìŠ¤íŠ¸ ì¤‘...', 'info');

            if (typeof window.portfolioManager !== 'undefined') {
                if (window.portfolioManager.projects && window.portfolioManager.projects.length > 0) {
                    const lastProject = window.portfolioManager.projects[window.portfolioManager.projects.length - 1];
                    addLog(`ë§ˆì§€ë§‰ í”„ë¡œì íŠ¸ë¡œ ì‚­ì œ í…ŒìŠ¤íŠ¸: ${lastProject.title}`, 'info');
                    try {
                        window.portfolioManager.deleteProject(lastProject.id);
                        addLog('ì‚­ì œ í•¨ìˆ˜ í˜¸ì¶œ ì„±ê³µ!', 'success');
                    } catch (error) {
                        addLog(`ì‚­ì œ í•¨ìˆ˜ ì—ëŸ¬: ${error.message}`, 'error');
                    }
                } else {
                    addLog('ì‚­ì œí•  í”„ë¡œì íŠ¸ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤', 'error');
                }
            } else {
                addLog('portfolioManagerë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤', 'error');
            }
        }

        function openPortfolio() {
            window.open('index.html', '_blank');
        }

        // ì´ˆê¸°í™” ë° ìƒíƒœ í™•ì¸
        window.addEventListener('load', function() {
            addLog('í…ŒìŠ¤íŠ¸ í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ', 'success');
            document.getElementById('testStatus').textContent = 'ì¤€ë¹„ì™„ë£Œ';

            // portfolioManager í™•ì¸
            if (typeof window.portfolioManager !== 'undefined') {
                document.getElementById('managerStatus').textContent = 'âœ… ì¡´ì¬í•¨';
                document.getElementById('managerStatus').className = 'status';
                addLog('portfolioManagerê°€ ì´ë¯¸ ë¡œë“œë˜ì–´ ìˆìŠµë‹ˆë‹¤', 'success');
            } else {
                document.getElementById('managerStatus').textContent = 'âŒ ì—†ìŒ';
                document.getElementById('managerStatus').className = 'error';
                addLog('portfolioManagerë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. index.htmlì„ ë¨¼ì € ì—´ì–´ì£¼ì„¸ìš”.', 'error');
            }

            addLog('í˜¸ë²„ í…ŒìŠ¤íŠ¸: ìœ„ì˜ ì¹´ë“œì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë ¤ë³´ì„¸ìš”!', 'info');
        });

        // ì£¼ê¸°ì ìœ¼ë¡œ portfolioManager ìƒíƒœ í™•ì¸
        setInterval(function() {
            if (typeof window.portfolioManager !== 'undefined' && document.getElementById('managerStatus').textContent.includes('ì—†ìŒ')) {
                document.getElementById('managerStatus').textContent = 'âœ… ì¡´ì¬í•¨';
                document.getElementById('managerStatus').className = 'status';
                addLog('portfolioManagerê°€ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
            }
        }, 1000);
    </script>
</body>
</html>